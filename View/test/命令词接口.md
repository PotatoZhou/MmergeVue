# 命令词接口
主要用来识别命令词，例如操作洗衣机时，切换洗衣模式————黄金洗，烘干，羊毛洗————等等。请注意，命令词需要完全匹配才能识别。

# 查询命令词
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/search_word

## 接口输入
UserId     int       "json":"sender"
Message    string    "json":"message"
### eg:
curl -X POST http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/search_word -d '{"message":"洗裤子", "sender":1}' 
## 接口输出
[
    {
        "recipient_id": "1",
        "text":"{\"rasa_intent\": \"washerModeSet\", \"rasa_slot\": {\"washerMode\": \"\除\菌\洗\"}}"
    }
]

# 增加命令词
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/add_word
## 接口输入
CommandWord     string       "json":"command_word"
CommandIntent   string       "json":"command_intent"
CommandSlot     string       "json":"command_slot"
### eg:
curl -X POST http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/add_word -d '{"command_word":"大衣", "command_intent":"washerModeSet", "command_slot":"大衣洗"}'
## 接口输出
{"code":"001","message":"succeed!"}
## 错误处理
- 若重复插入，报错
- 若缺失成分，报错


# 删除命令词
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/delete_word
## 接口输入
CommandWord     string       "json":"command_word"
### eg:
curl -X POST http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/delete_word -d '{"command_word":"大衣"}'
## 接口输出
{"code":"001","message":"succeed!"}
## 错误处理
- 若重复删除，报错
- 若缺失成分，报错


# 更新命令词
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/update_word
## 接口输入
CommandWord     string       "json":"old_command_word"
CommandWord     string       "json":"new_command_word"
CommandWord     string       "json":"new_command_intent"
CommandWord     string       "json":"new_command_slot"
### eg:
curl -X POST http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/update_word -d '{"old_command_word":"丝绸", "new_command_word":"丝绸", "new_command_intent":"washerModeSet", "new_command_slot":"丝绸洗"}'
## 接口输出
{"code":"001","message":"succeed!"}
## 错误处理
- 若重复删除，报错
- 若缺失成分，报错


# 上传文件
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/upload_file
## 接口输入
FilePath     string       "json":"file"
## 测试步骤
1. 打开Postman
2. 新建collection
3. 输入地址，选择POST
4. Headers加入{"Content-Type":"multipart/form-data"} key-value对
5. body使用form-data，加入{"file":文件} key-value对，其中key选择File，value选择本机文件
6. 点击Send
## 接口输出
{
    "code": 0,
    "msg": "上传成功",
    "data": {
        "name": "7bcc8e3c-51b0-415b-a382-850ccfa08970.csv",
        "url": "/viomi_nlu/data/7bcc8e3c-51b0-415b-a382-850ccfa08970.csv"
    }
}
## 上传文件格式
仅能使用.csv文件：
word,intent,slot
紫外除菌,washerModeSet,紫外除菌
棉麻烘干,washerModeSet,棉麻烘
羽绒烘干,washerModeSet,羽绒烘
...

# 使用文件全量更新命令词
## 接口地址
http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/upload_words
## 接口输入
FilePath     string       "json":"file_path"

### eg:
curl -X POST http://app-home-test.viomi.com.cn/ai/speechandlanguage/viominlu/upload_words -d '{"file_path":上一个接口输出的文件url}'
## 接口输出
{"code":"001","message":"succeed!"}



